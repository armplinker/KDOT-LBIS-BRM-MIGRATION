Executing Fixup_Missing_INSPUSRGUID.pdc
Executing Drop_Create_Table_PON_MOBILE_ERRORS.pdc
Creating table PON_MOBILE_ERRORS
Creating table PON_MOBILE_ERRORS -succeeded
Executing Drop_Create_Table_VALIDATION_WARNING.pdc
Dropping table VALIDATION_WARNING
Creating table VALIDATION_WARNING
Executing Drop_Create_Dummy_UserTables.pdc
Prepared at Bentley Systems, Inc AKA Mayvue by Chris.Meredith on 9/10/2018 10:35:59 AM.
Additional changes by Allen R. Marshall, ARM LLC - starting 20220818
===========================================================================================================================================================
ARM LLC Revision History
===========================================================================================================================================================
20220818 - ARMarshall, ARM LLC - initial review, added globals to preserve datadict and paramtrs tables for KDOT LBIS 9 (BrM 5.3) database
20221220 - ARMarshall, ARM LLC - corrected minor typos as encountered
20221220 - ARMarshall, ARM LLC - changed name of global to SAVEAGENCYSYSTABLES, now just 1 global, more changes near line 390 to backup PARAMTRS, DATADICT,PON_COPTIONS, COPTIONS, and KDOTBLP_ATTRIBUTE_DESCRIPTOR explicitly
20221220 - ARMarshall, ARM LLC - near line 32,442 declaration for the query string is now V_Q VARCHAR2(2000 CHAR); -- ARMarshall, ARM LLC - 20221220 - error reported string buffer was too small, increased from 300 to 2000
20221220 - ARMarshall, ARM LLC - near line 40,604 - failing because MV did not exist due to repeated runs (?) reformatted this MV section and added BEGIN EXCEPTION END blocks around each EXECUTE IMMEDIATE
20221220 - ARMarshall, ARM LLC - added option to print cursor detail for debugging purposes - set to 0 normally 
20221227 - ARMarshall, ARM LLC - set option DISABLE_FORCE_DEF_BY_TABLE to ON, created table VALIDATION_WARNING externally, modified table PON_APP_USERS_ROLES to add ACTIVE_DIRECTORY_ROLE column  directly
20221227 - ARMarshall, ARM LLC - External script Drop_Create_Table_PON_MOBILE_ERRORS.pdc created to create new table PON_MOBILE_ERRORS
20221227 - ARMarshall, ARM LLC - External script Drop_Create_Table_VALIDATION_WARNING.pdc created to create new table VALIDATION_WARNING
20221227 - ARMarshall, ARM LLC - External script Drop_Create_Dummy_UserTables.pdc created to create dummy USERBRDG and USERINSP tables
20221227 - ARMarshall, ARM LLC - As of 20221227, there were no orphan records in USERRWAY or USERSTRUNIT
20221228 - ARMarshall, ARM LLC - Script assumes that table PON_PROGRAM has column INCLUDE_WORK_CANDIDATES CHAR(1) DEFAULT ('T')
20230103 - ARMarshall, ARM LLC - Script modified to use procedure backup_KDOTBLP_PORTAL_TABLES to backup separately every table listed in KDOTBLP_PORTAL_TABLES with unique name and suffix _KT, added global var KDOT_TABLE_CLEANUP to kill the tables after the run, defaults to 0
20230103 - ARMarshall, ARM LLC - Changed object name e.g. TABLE_NAME references from VARCHAR2(30) to VARCHAR2(128 BYTE) throughout
20230103 - ARMarshall, ARM LLC - this name length change affects several/many SUBSTR calls - the table names may be as long as 128
20230103 - ARMarshall, ARM LLC - EXAMPLE SNIPPET (near line 4860:
 >>>>>>>>>>>>>>> -- Oracle object name used to be 30 
 >>>>>>>>>>>>>>> -- the SUBSTR function here has been changed to permit up to 126 chars of the real name to be used for the _T table 
 >>>>>>>>>>>>>>> -- given that the suffix _T takes up 2 chars. 
 >>>>>>>>>>>>>>>     WITH T(TABLE_NAME) AS (SELECT DISTINCT SUBSTR(TABLE_NAME, 1, 126) || '_T' FROM PON_DICT  ] etc.
20230103 - ARMarshall, ARM LLC - fixed apparent typo IS_K1EY to IS_KEY in the inserts to DATADICT_T near line 6080
20230103 - ARMarshall, ARM LLC - relocated the prerequisite tables to repos subdirectory KDOT-LBIS-BRM-MIGRATION/files/scripts/ 
===========================================================================================================================================================
RUNNING AASHTOWare Bridge Management 6.0 GUID upgrade script.
Run on KDOT_BLP BrM 6.0 Oracle on TUESDAY 1/3/2023 at 17:17 PM.
Executing external SP -  BACKUP_KDOTBLP_PORTAL_TABLES
Archiving KDOT Portal Table KDOTBLP_ATTRIBUTE_DESCRIPTOR TO KDOTBLP_ATTRIBUTE_DESCRIPTOR_2849227FD73549C0A5358D7FC4217394_KT...
Table KDOTBLP_ATTRIBUTE_DESCRIPTOR archived OK
Archiving KDOT Portal Table KDOTBLP_USERS TO KDOTBLP_USERS_2849227FD73549C0A5358D7FC4217394_KT...
Table KDOTBLP_USERS archived OK
Archiving KDOT Portal Table KDOTBLP_BRIDGE TO KDOTBLP_BRIDGE_2849227FD73549C0A5358D7FC4217394_KT...
Table KDOTBLP_BRIDGE archived OK
Archiving KDOT Portal Table KDOTBLP_INSPECTIONS TO KDOTBLP_INSPECTIONS_2849227FD73549C0A5358D7FC4217394_KT...
Table KDOTBLP_INSPECTIONS archived OK
Archiving KDOT Portal Table KDOTBLP_LOAD_RATINGS TO KDOTBLP_LOAD_RATINGS_2849227FD73549C0A5358D7FC4217394_KT...
Table KDOTBLP_LOAD_RATINGS archived OK
Archiving KDOT Portal Table LR_VEHICLE_DEFS TO LR_VEHICLE_DEFS_2849227FD73549C0A5358D7FC4217394_KT...
Table LR_VEHICLE_DEFS archived OK
Archiving KDOT Portal Table KDOTBLP_QAQC_REVIEW_FINDINGS TO KDOTBLP_QAQC_REVIEW_FINDINGS_2849227FD73549C0A5358D7FC4217394_KT...
Table KDOTBLP_QAQC_REVIEW_FINDINGS archived OK
Archiving KDOT Portal Table KDOTBLP_QAQC_REVIEW_FLAGS TO KDOTBLP_QAQC_REVIEW_FLAGS_2849227FD73549C0A5358D7FC4217394_KT...
Table KDOTBLP_QAQC_REVIEW_FLAGS archived OK
Archiving KDOT Portal Table KDOTBLP_DOCUMENTS TO KDOTBLP_DOCUMENTS_2849227FD73549C0A5358D7FC4217394_KT...
Table KDOTBLP_DOCUMENTS archived OK
Archiving KDOT Portal Table KDOTBLP_NBI_RATING_HISTORY TO KDOTBLP_NBI_RATING_HISTORY_2849227FD73549C0A5358D7FC4217394_KT...
Table KDOTBLP_NBI_RATING_HISTORY archived OK
Archiving KDOT Portal Table KDOTBLP_KBLRP_CONTRACTS TO KDOTBLP_KBLRP_CONTRACTS_2849227FD73549C0A5358D7FC4217394_KT...
Table KDOTBLP_KBLRP_CONTRACTS archived OK
Archiving KDOT Portal Table KDOTBLP_EXCLUDED_STRUCTURES TO KDOTBLP_EXCLUDED_STRUCTURES_2849227FD73549C0A5358D7FC4217394_KT...
Table KDOTBLP_EXCLUDED_STRUCTURES archived OK
Archiving KDOT Portal Table KDOTBLP_FORM_TABS TO KDOTBLP_FORM_TABS_2849227FD73549C0A5358D7FC4217394_KT...
Table KDOTBLP_FORM_TABS archived OK
Archiving KDOT Portal Table KDOTBLP_DESIGN_MATERIAL_LOOKUP TO KDOTBLP_DESIGN_MATERIAL_LOOKUP_2849227FD73549C0A5358D7FC4217394_KT...
Table KDOTBLP_DESIGN_MATERIAL_LOOKUP archived OK
Archiving KDOT Portal Table KDOTBLP_PON_APP_GROUP_CONTACTS TO KDOTBLP_PON_APP_GROUP_CONTACTS_2849227FD73549C0A5358D7FC4217394_KT...
Table KDOTBLP_PON_APP_GROUP_CONTACTS archived OK
Archiving KDOT Portal Table KDOTBLP_REPORTS TO KDOTBLP_REPORTS_2849227FD73549C0A5358D7FC4217394_KT...
Table KDOTBLP_REPORTS archived OK
Archiving KDOT Portal Table KDOTBLP_VALDN_RESULTS TO KDOTBLP_VALDN_RESULTS_2849227FD73549C0A5358D7FC4217394_KT...
Table KDOTBLP_VALDN_RESULTS archived OK
Archiving KDOT Portal Table KIND_CODE_LABELS TO KIND_CODE_LABELS_2849227FD73549C0A5358D7FC4217394_KT...
Table KIND_CODE_LABELS archived OK
Archiving KDOT Portal Table LOOKUP_MAT_DESIGN_APPR_TYPE TO LOOKUP_MAT_DESIGN_APPR_TYPE_2849227FD73549C0A5358D7FC4217394_KT...
Table LOOKUP_MAT_DESIGN_APPR_TYPE archived OK
Archiving KDOT Portal Table PARAMTRS TO PARAMTRS_2849227FD73549C0A5358D7FC4217394_KT...
Table PARAMTRS archived OK
Archiving KDOT Portal Table LOOKUP_MAT_DESIGN_MAIN_TYPE TO LOOKUP_MAT_DESIGN_MAIN_TYPE_2849227FD73549C0A5358D7FC4217394_KT...
Table LOOKUP_MAT_DESIGN_MAIN_TYPE archived OK
Archiving KDOT Portal Table DATADICT TO DATADICT_2849227FD73549C0A5358D7FC4217394_KT...
Table DATADICT archived OK
Archiving KDOT Portal Table COPTIONS TO COPTIONS_2849227FD73549C0A5358D7FC4217394_KT...
Table COPTIONS archived OK
Archiving KDOT Portal Table PON_COPTIONS TO PON_COPTIONS_2849227FD73549C0A5358D7FC4217394_KT...
Table PON_COPTIONS archived OK
Archiving KDOT Portal Table PON_APP_USERS TO PON_APP_USERS_2849227FD73549C0A5358D7FC4217394_KT...
Table PON_APP_USERS archived OK
Archiving KDOT Portal Table PON_APP_ROLES TO PON_APP_ROLES_2849227FD73549C0A5358D7FC4217394_KT...
Table PON_APP_ROLES archived OK
Archiving KDOT Portal Table PON_APP_USERS_ROLES TO PON_APP_USERS_ROLES_2849227FD73549C0A5358D7FC4217394_KT...
Table PON_APP_USERS_ROLES archived OK
Archiving KDOT Portal Table PON_APP_PERMISSIONS TO PON_APP_PERMISSIONS_2849227FD73549C0A5358D7FC4217394_KT...
Table PON_APP_PERMISSIONS archived OK
Archiving KDOT Portal Table PON_APP_ROLES_PERMISSIONS TO PON_APP_ROLES_PERMISSIONS_2849227FD73549C0A5358D7FC4217394_KT...
Table PON_APP_ROLES_PERMISSIONS archived OK
Archiving KDOT Portal Table PON_APP_GROUPS TO PON_APP_GROUPS_2849227FD73549C0A5358D7FC4217394_KT...
Table PON_APP_GROUPS archived OK
Archiving KDOT Portal Table PON_APP_USERS_GROUPS TO PON_APP_USERS_GROUPS_2849227FD73549C0A5358D7FC4217394_KT...
Table PON_APP_USERS_GROUPS archived OK
Archiving KDOT Portal Table PON_APP_GROUP_ACCESS_FILTERS TO PON_APP_GROUP_ACCESS_FILTERS_2849227FD73549C0A5358D7FC4217394_KT...
Table PON_APP_GROUP_ACCESS_FILTERS archived OK
Archiving KDOT Portal Table PON_FILTERS TO PON_FILTERS_2849227FD73549C0A5358D7FC4217394_KT...
Table PON_FILTERS archived OK
Archiving KDOT Portal Table PON_LAYOUTS TO PON_LAYOUTS_2849227FD73549C0A5358D7FC4217394_KT...
Table PON_LAYOUTS archived OK
Archiving KDOT Portal Table KDOTBLP_ATTRIBUTE_DESCRIPTOR TO KDOTBLP_ATTRIBUTE_DESCRIPTOR_953BBE7FC30748758B21DA3B3B65870A_KT...
Table KDOTBLP_ATTRIBUTE_DESCRIPTOR archived OK
Archiving KDOT Portal Table KDOTBLP_USERS TO KDOTBLP_USERS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table KDOTBLP_USERS archived OK
Archiving KDOT Portal Table KDOTBLP_BRIDGE TO KDOTBLP_BRIDGE_953BBE7FC30748758B21DA3B3B65870A_KT...
Table KDOTBLP_BRIDGE archived OK
Archiving KDOT Portal Table KDOTBLP_INSPECTIONS TO KDOTBLP_INSPECTIONS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table KDOTBLP_INSPECTIONS archived OK
Archiving KDOT Portal Table KDOTBLP_LOAD_RATINGS TO KDOTBLP_LOAD_RATINGS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table KDOTBLP_LOAD_RATINGS archived OK
Archiving KDOT Portal Table LR_VEHICLE_DEFS TO LR_VEHICLE_DEFS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table LR_VEHICLE_DEFS archived OK
Archiving KDOT Portal Table KDOTBLP_QAQC_REVIEW_FINDINGS TO KDOTBLP_QAQC_REVIEW_FINDINGS_953BBE7FC30748758B21DA3B3B65870A_KT...
ERROR ARCHIVING TABLE: CREATE TABLE KDOTBLP_QAQC_REVIEW_FINDINGS_953BBE7FC30748758B21DA3B3B65870A_KT AS SELECT * FROM KDOTBLP_QAQC_REVIEW_FINDINGS: ORA-12954: The request exceeds the maximum allowed database size of 12 GB.
Archiving KDOT Portal Table KDOTBLP_QAQC_REVIEW_FLAGS TO KDOTBLP_QAQC_REVIEW_FLAGS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table KDOTBLP_QAQC_REVIEW_FLAGS archived OK
Archiving KDOT Portal Table KDOTBLP_DOCUMENTS TO KDOTBLP_DOCUMENTS_953BBE7FC30748758B21DA3B3B65870A_KT...
ERROR ARCHIVING TABLE: CREATE TABLE KDOTBLP_DOCUMENTS_953BBE7FC30748758B21DA3B3B65870A_KT AS SELECT * FROM KDOTBLP_DOCUMENTS: ORA-12954: The request exceeds the maximum allowed database size of 12 GB.
Archiving KDOT Portal Table KDOTBLP_NBI_RATING_HISTORY TO KDOTBLP_NBI_RATING_HISTORY_953BBE7FC30748758B21DA3B3B65870A_KT...
Table KDOTBLP_NBI_RATING_HISTORY archived OK
Archiving KDOT Portal Table KDOTBLP_KBLRP_CONTRACTS TO KDOTBLP_KBLRP_CONTRACTS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table KDOTBLP_KBLRP_CONTRACTS archived OK
Archiving KDOT Portal Table KDOTBLP_EXCLUDED_STRUCTURES TO KDOTBLP_EXCLUDED_STRUCTURES_953BBE7FC30748758B21DA3B3B65870A_KT...
Table KDOTBLP_EXCLUDED_STRUCTURES archived OK
Archiving KDOT Portal Table KDOTBLP_FORM_TABS TO KDOTBLP_FORM_TABS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table KDOTBLP_FORM_TABS archived OK
Archiving KDOT Portal Table KDOTBLP_DESIGN_MATERIAL_LOOKUP TO KDOTBLP_DESIGN_MATERIAL_LOOKUP_953BBE7FC30748758B21DA3B3B65870A_KT...
Table KDOTBLP_DESIGN_MATERIAL_LOOKUP archived OK
Archiving KDOT Portal Table KDOTBLP_PON_APP_GROUP_CONTACTS TO KDOTBLP_PON_APP_GROUP_CONTACTS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table KDOTBLP_PON_APP_GROUP_CONTACTS archived OK
Archiving KDOT Portal Table KDOTBLP_REPORTS TO KDOTBLP_REPORTS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table KDOTBLP_REPORTS archived OK
Archiving KDOT Portal Table KDOTBLP_VALDN_RESULTS TO KDOTBLP_VALDN_RESULTS_953BBE7FC30748758B21DA3B3B65870A_KT...
ERROR ARCHIVING TABLE: CREATE TABLE KDOTBLP_VALDN_RESULTS_953BBE7FC30748758B21DA3B3B65870A_KT AS SELECT * FROM KDOTBLP_VALDN_RESULTS: ORA-12954: The request exceeds the maximum allowed database size of 12 GB.
Archiving KDOT Portal Table KIND_CODE_LABELS TO KIND_CODE_LABELS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table KIND_CODE_LABELS archived OK
Archiving KDOT Portal Table LOOKUP_MAT_DESIGN_APPR_TYPE TO LOOKUP_MAT_DESIGN_APPR_TYPE_953BBE7FC30748758B21DA3B3B65870A_KT...
Table LOOKUP_MAT_DESIGN_APPR_TYPE archived OK
Archiving KDOT Portal Table PARAMTRS TO PARAMTRS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table PARAMTRS archived OK
Archiving KDOT Portal Table LOOKUP_MAT_DESIGN_MAIN_TYPE TO LOOKUP_MAT_DESIGN_MAIN_TYPE_953BBE7FC30748758B21DA3B3B65870A_KT...
Table LOOKUP_MAT_DESIGN_MAIN_TYPE archived OK
Archiving KDOT Portal Table DATADICT TO DATADICT_953BBE7FC30748758B21DA3B3B65870A_KT...
Table DATADICT archived OK
Archiving KDOT Portal Table COPTIONS TO COPTIONS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table COPTIONS archived OK
Archiving KDOT Portal Table PON_COPTIONS TO PON_COPTIONS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table PON_COPTIONS archived OK
Archiving KDOT Portal Table PON_APP_USERS TO PON_APP_USERS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table PON_APP_USERS archived OK
Archiving KDOT Portal Table PON_APP_ROLES TO PON_APP_ROLES_953BBE7FC30748758B21DA3B3B65870A_KT...
Table PON_APP_ROLES archived OK
Archiving KDOT Portal Table PON_APP_USERS_ROLES TO PON_APP_USERS_ROLES_953BBE7FC30748758B21DA3B3B65870A_KT...
Table PON_APP_USERS_ROLES archived OK
Archiving KDOT Portal Table PON_APP_PERMISSIONS TO PON_APP_PERMISSIONS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table PON_APP_PERMISSIONS archived OK
Archiving KDOT Portal Table PON_APP_ROLES_PERMISSIONS TO PON_APP_ROLES_PERMISSIONS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table PON_APP_ROLES_PERMISSIONS archived OK
Archiving KDOT Portal Table PON_APP_GROUPS TO PON_APP_GROUPS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table PON_APP_GROUPS archived OK
Archiving KDOT Portal Table PON_APP_USERS_GROUPS TO PON_APP_USERS_GROUPS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table PON_APP_USERS_GROUPS archived OK
Archiving KDOT Portal Table PON_APP_GROUP_ACCESS_FILTERS TO PON_APP_GROUP_ACCESS_FILTERS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table PON_APP_GROUP_ACCESS_FILTERS archived OK
Archiving KDOT Portal Table PON_FILTERS TO PON_FILTERS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table PON_FILTERS archived OK
Archiving KDOT Portal Table PON_LAYOUTS TO PON_LAYOUTS_953BBE7FC30748758B21DA3B3B65870A_KT...
Table PON_LAYOUTS archived OK
Update PON_COPTIONS_T with values from PON_COPTIONS.
MERGE INTO PON_DICT T
    USING (SELECT
                CASE UPPER(OPTIONNAME)
                    WHEN 'XTRNBRDGTABLE' THEN 'USERBRDG'
                    WHEN 'XTRNINSPTABLE' THEN 'USERINSP'
                    WHEN 'XTRNRWAYTABLE' THEN 'USERRWAY'
                    WHEN 'XTRNSTRUNITTABLE' THEN 'USERSTRUNIT'
                    ELSE OPTIONVAL
                END TABLE_NAME,
                UPPER(OPTIONVAL) CUSTOM_TABLE_NAME
            FROM PON_COPTIONS_T
            WHERE UPPER(OPTIONNAME) IN ('XTRNBRDGTABLE', 'XTRNINSPTABLE', 'XTRNRWAYTABLE', 'XTRNSTRUNITTABLE')
    ) S
    ON (T.ORIGINAL_TABLE_NAME = S.TABLE_NAME)
    WHEN MATCHED THEN UPDATE SET T.TABLE_NAME = S.CUSTOM_TABLE_NAME
MERGE INTO PON_FK T
    USING (SELECT
                CASE UPPER(OPTIONNAME)
                    WHEN 'XTRNBRDGTABLE' THEN 'USERBRDG'
                    WHEN 'XTRNINSPTABLE' THEN 'USERINSP'
                    WHEN 'XTRNRWAYTABLE' THEN 'USERRWAY'
                    WHEN 'XTRNSTRUNITTABLE' THEN 'USERSTRUNIT'
                    ELSE OPTIONVAL
                END TABLE_NAME,
                UPPER(OPTIONVAL) CUSTOM_TABLE_NAME
            FROM PON_COPTIONS_T
            WHERE UPPER(OPTIONNAME) IN ('XTRNBRDGTABLE', 'XTRNINSPTABLE', 'XTRNRWAYTABLE', 'XTRNSTRUNITTABLE')
    ) S
    ON (T.ORIGINAL_TABLE_NAME = S.TABLE_NAME)
    WHEN MATCHED THEN UPDATE SET T.TABLE_NAME = S.CUSTOM_TABLE_NAME
MERGE INTO PON_INDEX T
    USING (SELECT
                CASE UPPER(OPTIONNAME)
                    WHEN 'XTRNBRDGTABLE' THEN 'USERBRDG'
                    WHEN 'XTRNINSPTABLE' THEN 'USERINSP'
                    WHEN 'XTRNRWAYTABLE' THEN 'USERRWAY'
                    WHEN 'XTRNSTRUNITTABLE' THEN 'USERSTRUNIT'
                    ELSE OPTIONVAL
                END TABLE_NAME,
                UPPER(OPTIONVAL) CUSTOM_TABLE_NAME
            FROM PON_COPTIONS_T
            WHERE UPPER(OPTIONNAME) IN ('XTRNBRDGTABLE', 'XTRNINSPTABLE', 'XTRNRWAYTABLE', 'XTRNSTRUNITTABLE')
    ) S
    ON (T.ORIGINAL_TABLE_NAME = S.TABLE_NAME)
    WHEN MATCHED THEN UPDATE SET T.TABLE_NAME = S.CUSTOM_TABLE_NAME
MERGE INTO PON_TABLE T
    USING (SELECT
                CASE UPPER(OPTIONNAME)
                    WHEN 'XTRNBRDGTABLE' THEN 'USERBRDG'
                    WHEN 'XTRNINSPTABLE' THEN 'USERINSP'
                    WHEN 'XTRNRWAYTABLE' THEN 'USERRWAY'
                    WHEN 'XTRNSTRUNITTABLE' THEN 'USERSTRUNIT'
                    ELSE OPTIONVAL
                END TABLE_NAME,
                UPPER(OPTIONVAL) CUSTOM_TABLE_NAME
            FROM PON_COPTIONS_T
            WHERE UPPER(OPTIONNAME) IN ('XTRNBRDGTABLE', 'XTRNINSPTABLE', 'XTRNRWAYTABLE', 'XTRNSTRUNITTABLE')
    ) S
    ON (T.ORIGINAL_TABLE_NAME = S.TABLE_NAME)
    WHEN MATCHED THEN UPDATE SET T.TABLE_NAME = S.CUSTOM_TABLE_NAME
Drop indexes that are unwanted or changed.
DROP INDEX NRM_USERBRDG_POSTING_REQ
DROP INDEX NRM_USERBRDG_POSTING_TYPE
Reduce length or scale or change data type.
Alter Columns.
Update new columns with default values.
Make new required columns on old tables required.
REMOVE ITEMS FROM PRODUCTION DATABASES.
ERROR D6: Failed Creating Foreign Key [ALTER TABLE PON_APP_CONTROL_SECURITY ADD CONSTRAINT FK_CTRL_SEC_TO_NAV_CONTROL FOREIGN KEY (PON_NAV_CONTROL_GD) REFERENCES PON_NAV_CONTROL (PON_NAV_CONTROL_GD) ON DELETE CASCADE;ORA-02298: cannot validate (KDOT_BLP.FK_CTRL_SEC_TO_NAV_CONTROL) - parent keys not found
ERROR D6: Failed Creating Foreign Key [ALTER TABLE USERBRDG ADD CONSTRAINT FK_USERBRDG_14_BRIDGE FOREIGN KEY (BRIDGE_GD) REFERENCES BRIDGE (BRIDGE_GD) ON DELETE CASCADE;ORA-02298: cannot validate (KDOT_BLP.FK_USERBRDG_14_BRIDGE) - parent keys not found
ERROR D6: Failed Creating Foreign Key [ALTER TABLE USERINSP ADD CONSTRAINT FK_USERINSP_46_INSPEVNT FOREIGN KEY (INSPEVNT_GD) REFERENCES INSPEVNT (INSPEVNT_GD) ON DELETE CASCADE;ORA-02298: cannot validate (KDOT_BLP.FK_USERINSP_46_INSPEVNT) - parent keys not found
Disable recursive constraints before merging setup data.
Merge optional setup data from temp tables.
ERROR : MERGE INTO PON_APP_CONTROL_GROUP_SECURITY T
				USING PON_APP_CONTROL_GROUP_SECURI_T S
				ON (T.PON_APP_ROLES_GD = S.PON_APP_ROLES_GD AND T.PON_NAV_CONTROL_GROUP_GD = S.PON_NAV_CONTROL_GROUP_GD)
				WHEN NOT MATCHED THEN INSERT (T.ROLEKEY, T.TAB_ID, T.TASK_ID, T.CONTROL_GROUP_ID, T.VISIBLE_IND, T.READ_ONLY_IND, T.MOBILE_VISIBLE_IND, T.MOBILE_READ_ONLY_IND, T.PON_APP_ROLES_GD, T.PON_NAV_CONTROL_GROUP_GD)
				VALUES (S.ROLEKEY, S.TAB_ID, S.TASK_ID, S.CONTROL_GROUP_ID, S.VISIBLE_IND, S.READ_ONLY_IND, S.MOBILE_VISIBLE_IND, S.MOBILE_READ_ONLY_IND, S.PON_APP_ROLES_GD, S.PON_NAV_CONTROL_GROUP_GD)
    ORA-00942: table or view does not exist
ERROR : MERGE INTO PON_UTIL_CRIT_WEIGHTS_PROFILE T
				USING PON_UTIL_CRIT_WEIGHTS_PROFIL_T S
				ON (T.PON_UTIL_WEIGHTS_PROFILE_GD = S.PON_UTIL_WEIGHTS_PROFILE_GD AND T.PON_UTIL_CRIT_CATEGORY_GD = S.PON_UTIL_CRIT_CATEGORY_GD)
				WHEN NOT MATCHED THEN INSERT (T.PON_UTIL_WEIGHTS_PROFILE_GD, T.PON_UTIL_CRIT_CATEGORY_GD, T.OVERRIDE_WEIGHT)
				VALUES (S.PON_UTIL_WEIGHTS_PROFILE_GD, S.PON_UTIL_CRIT_CATEGORY_GD, S.OVERRIDE_WEIGHT)
    ORA-00942: table or view does not exist
Enable recursive constraints after merging setup data.
Remove retired tables from PON_EXCHANGE_OPTION_DETAIL
Remove empty entries from PON_EXCHANGE_OPTION
Enable disabled NOT NULL constraints.
Make non PK GUID columns required.
ALTER TABLE INSPEVNT MODIFY BRIDGE_GD  NOT NULL
ERROR :  ALTER TABLE INSPEVNT MODIFY BRIDGE_GD  NOT NULL; ORA-01442: column to be modified to NOT NULL is already NOT NULL in KDOT_BLP.
ALTER TABLE INSPEVNT MODIFY INSPUSRGUID  NOT NULL
ALTER TABLE PON_ELEM_INSP MODIFY BRIDGE_GD  NOT NULL
ERROR :  ALTER TABLE PON_ELEM_INSP MODIFY BRIDGE_GD  NOT NULL; ORA-01442: column to be modified to NOT NULL is already NOT NULL in KDOT_BLP.
ALTER TABLE PON_MOBILE_ERRORS MODIFY DATA  NOT NULL
ALTER TABLE PON_MOBILE_ERRORS MODIFY ORDER_NUM  NOT NULL
ALTER TABLE USERINSP MODIFY BRIDGE_GD  NOT NULL
Make old key columns nullable
Add missing permissions, (if any).
Add indexes.
CREATE INDEX FK_VALIDATION_WARNING_USERS ON VALIDATION_WARNING(PON_APP_USERS_GD)
CREATE INDEX XAK1PON_NAV_CONTROL ON PON_NAV_CONTROL(PON_NAV_CONTROL_GROUP_GD,ORDER_NUM)
CREATE INDEX XAK1PON_NAV_CONTROL_GROUP ON PON_NAV_CONTROL_GROUP(PON_NAV_TASK_GD,PARENT_CONTROL_GROUP_GD,ORDER_NUM)
CREATE UNIQUE INDEX UQ_USERSTRUNIT ON USERSTRUNIT(STRUCTURE_UNIT_GD,STRUNITKEY)
CREATE UNIQUE INDEX XAK1PON_NAV_TASK ON PON_NAV_TASK(PON_NAV_TAB_GD,PON_NAV_TASK_GD,PARENT_PON_NAV_TASK_GD,ORDER_NUM)
ERROR: Failed forwarding elements for latest inspection having no elements with previous inspections containg elements; ORA-12954: The request exceeds the maximum allowed database size of 12 GB.
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
A DEFAULT Pontis USER HAS BEEN ADDED WITH A PASSWORD OF 'pontis'.
CHANGE THIS PASSWORD!
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
Script finished on KDOT_BLP.
